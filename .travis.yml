dist: bionic

language: python

arch:
    - amd64
    - arm64

python:
    - "3.5"
    - "3.6"
    - "3.7"
    - "3.8"

matrix:
    include:
        - os: osx
          language: generic

install:
    # TODO: remove --no-cache-dir when Travis fixes the cache directory ownership issue for
    # aarch64 https://travis-ci.community/t/no-cache-support-on-arm64/5416/28
    - pip3 install --no-cache-dir pyyaml autopep8 flake8 cryptography

script:
    - ./run_tests
